php 提供了fsockopen函数，此函数的功能为初始化一个套接字连接到指定主机，默认情况下将以阻塞模式开启套接字连接。当然你可以通过stream_set_blocking()将它转换到非阻塞模式。这是关键。所以，思路就是：开启一个非阻塞的套接字连接到本机，本机收到之后作一些耗时处理。
CI 项目实现方法